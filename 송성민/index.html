<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>

        <link rel="stylesheet" href="assets/css/reset.css" />
        <link rel="stylesheet" href="assets/css/style.css" />
    </head>

    <body>
        <header id="header">
            <h1>
                <span>DEVELOPER</span>
                <span>PORTFOLIO</span>
            </h1>
            <nav class="nav">
                <ul>
                    <li class="active"><a href="main.html">001/Main</a></li>
                    <li><a href="work.html">002/Work</a></li>
                    <li><a href="team.html">003/Team</a></li>
                    <li><a href="comment.html">004/Comment</a></li>
                    <li><a href="contact.html">005/Contact</a></li>
                </ul>
            </nav>
            <div class="right"></div>
        </header>
        <!-- //header -->

        <main id="section1">
            <div class="top">
                <div class="menu">
                    <div class="menu--wrapper">
                        <div class="menu--item">
                            <figure>
                                <img
                                    src="https://images.unsplash.com/photo-1595265677860-9a3168007dc0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60"
                                    alt=""
                                />
                            </figure>
                        </div>

                        <div class="menu--item">
                            <figure>
                                <img
                                    src="https://images.unsplash.com/photo-1594786118579-95ba90c801ec?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60"
                                    alt=""
                                />
                            </figure>
                        </div>

                        <div class="menu--item">
                            <figure>
                                <img
                                    src="https://images.unsplash.com/photo-1509339022327-1e1e25360a41?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60"
                                    alt=""
                                />
                            </figure>
                        </div>

                        <div class="menu--item">
                            <figure>
                                <img
                                    src="https://images.unsplash.com/photo-1525417071002-5ee4e6bb44f7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60"
                                    alt=""
                                />
                            </figure>
                        </div>

                        <div class="menu--item">
                            <figure>
                                <img
                                    src="https://images.unsplash.com/photo-1594072702031-f0e2a602dd2c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60"
                                    alt=""
                                />
                            </figure>
                        </div>

                        <div class="menu--item">
                            <figure>
                                <img
                                    src="https://images.unsplash.com/photo-1592989819277-a3aafa40c66a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60"
                                    alt=""
                                />
                            </figure>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bom">
                <div class="title">
                    <span>work</span>
                    <span>portfolio</span>
                    <span>about</span>
                </div>
                <div class="desc">
                    아직 부족한 부분이 많다 생각하여 스터디 모임에
                    참여했습니다.<br />
                    하루 8시간씩 공부하며 나머지 3개의 사이트와 메인
                    포트폴리오를 제작했습니다.<br />
                    저처럼 추가적으로 포트폴리오를 만들고 공부를 하기 위한<br />
                    취업하신 참여하신 분들도 계셨습니다.
                </div>
            </div>
        </main>
        <!-- //section1 -->

        <footer id="footer">
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
            <span>No SKIP</span>
        </footer>
        <!-- //footer -->

        <div class="container-animation"></div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
        <script src="https://unpkg.com/split-type"></script>
        <script>
            const targets = gsap.utils.toArray(".split");

            targets.forEach((target) => {
                let SplitClient = new SplitType(target, {
                    type: "lines, words, chars",
                });
                let lines = SplitClient.lines;
                let words = SplitClient.words;
                let chars = SplitClient.chars;
            });

            document.querySelectorAll(".nav a").forEach((link) => {
                link.addEventListener("click", (event) => {
                    event.preventDefault();
                    const url = link.getAttribute("href");

                    gsap.to(".container-animation span", {
                        stagger: { amount: 0.8, from: "random" },
                        backgroundColor: "#ffacac",
                        duration: 3,
                    });

                    setTimeout(() => {
                        window.location.href = url;
                    }, 5000);
                });
            });

            const container = document.querySelector(".container-animation");

            // span 요소를 추가하는 함수
            function addSpans() {
                for (let i = 0; i < 100; i++) {
                    const span = document.createElement("span");
                    container.appendChild(span);
                }
            }
            addSpans();
        </script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.4.2/gsap.min.js"></script>
        <script>
            /*--------------------
Vars
--------------------*/
            const $menu = document.querySelector(".menu");
            const $items = document.querySelectorAll(".menu--item");
            const $images = document.querySelectorAll(".menu--item img");
            let menuWidth = $menu.clientWidth;
            let itemWidth = $items[0].clientWidth;
            let wrapWidth = $items.length * itemWidth;

            let scrollSpeed = 0;
            let oldScrollY = 0;
            let scrollY = 0;
            let y = 0;

            /*--------------------
        Lerp
        --------------------*/
            const lerp = (v0, v1, t) => {
                return v0 * (1 - t) + v1 * t;
            };

            /*--------------------
        Dispose
        --------------------*/
            const dispose = (scroll) => {
                gsap.set($items, {
                    x: (i) => {
                        return i * itemWidth + scroll;
                    },
                    modifiers: {
                        x: (x, target) => {
                            const s = gsap.utils.wrap(
                                -itemWidth,
                                wrapWidth - itemWidth,
                                parseInt(x)
                            );
                            return `${s}px`;
                        },
                    },
                });
            };
            dispose(0);

            /*--------------------
        Wheel
        --------------------*/
            const handleMouseWheel = (e) => {
                scrollY -= e.deltaY * 0.9;
            };

            /*--------------------
        Touch
        --------------------*/
            let touchStart = 0;
            let touchX = 0;
            let isDragging = false;
            const handleTouchStart = (e) => {
                touchStart = e.clientX || e.touches[0].clientX;
                isDragging = true;
                $menu.classList.add("is-dragging");
            };
            const handleTouchMove = (e) => {
                if (!isDragging) return;
                touchX = e.clientX || e.touches[0].clientX;
                scrollY += (touchX - touchStart) * 2.5;
                touchStart = touchX;
            };
            const handleTouchEnd = () => {
                isDragging = false;
                $menu.classList.remove("is-dragging");
            };

            /*--------------------
        Listeners
        --------------------*/
            $menu.addEventListener("mousewheel", handleMouseWheel);

            $menu.addEventListener("touchstart", handleTouchStart);
            $menu.addEventListener("touchmove", handleTouchMove);
            $menu.addEventListener("touchend", handleTouchEnd);

            $menu.addEventListener("mousedown", handleTouchStart);
            $menu.addEventListener("mousemove", handleTouchMove);
            $menu.addEventListener("mouseleave", handleTouchEnd);
            $menu.addEventListener("mouseup", handleTouchEnd);

            $menu.addEventListener("selectstart", () => {
                return false;
            });

            /*--------------------
        Resize
        --------------------*/
            window.addEventListener("resize", () => {
                menuWidth = $menu.clientWidth;
                itemWidth = $items[0].clientWidth;
                wrapWidth = $items.length * itemWidth;
            });

            /*--------------------
        Render
        --------------------*/
            const render = () => {
                requestAnimationFrame(render);
                y = lerp(y, scrollY, 0.1);
                dispose(y);

                scrollSpeed = y - oldScrollY;
                oldScrollY = y;

                gsap.to($items, {
                    skewX: -scrollSpeed * 0.2,
                    rotate: scrollSpeed * 0.01,
                    scale: 1 - Math.min(100, Math.abs(scrollSpeed)) * 0.003,
                });
            };
            render();
        </script>
    </body>
</html>
